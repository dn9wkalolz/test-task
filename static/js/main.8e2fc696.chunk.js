(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(39),c=a(14),o=a(11),i=a.n(o),s=a(164),l=a(149),j=a(71),d=a.n(j),b=a(151),u=a(105),O=a(147),h=a(5),p=Object(O.a)((function(e){return{icon:{marginRight:e.spacing(2)}}})),g=function(){var e=p();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(l.a,{position:"relative",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)(d.a,{className:e.icon}),Object(h.jsx)(u.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Image Finder"})]})})})},m=a(152),f=Object(O.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),x=function(){var e=f();return Object(h.jsx)("footer",{className:e.footer,children:Object(h.jsxs)(u.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(h.jsx)(m.a,{color:"inherit",href:"https://github.com/dn9wkalolz",children:"Github"})," ",(new Date).getFullYear(),"."]})})},v=a(17),k=a(168),P=a(163),_=a(166),S=a(153),E=a(167),T=a(65),y="SET_PHOTOS",N="SET_PAGE",A="SET_ROWS_PER_PAGE",w="SET_BOOKMARKS",R={photos:[],page:0,rowsPerPage:10,bookmarks:[]},C=function(e){return{type:y,payload:{photos:e}}},B=function(e){return{type:N,payload:{page:e}}},K=function(e){return{type:A,payload:{rowsPerPage:e}}},W=function(e){return{type:w,payload:{bookmarks:e}}},I=function(e){return e.app},G=function(){var e=Object(c.b)(),t=Object(c.c)(I),a=t.page,n=t.rowsPerPage,r=t.photos;return Object(h.jsx)(S.a,{maxWidth:"sm",children:Object(h.jsx)(E.a,{component:"div",count:r.length,page:a,onChangePage:function(t,a){e(B(a))},rowsPerPageOptions:[10,25],rowsPerPage:n,onChangeRowsPerPage:function(t){var a=parseInt(t.target.value,10);e(K(a)),e(B(0))}})})},F=a(66),M=a.n(F),D=a(72),U=a(170),H=a(171),J=a(169),L=Object(O.a)((function(e){return Object(H.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}})})),V=function(){var e=L();return Object(h.jsx)("div",{className:e.root,children:Object(h.jsx)(J.a,{variant:"outlined",severity:"error",children:"Oops something went wrong, please try again!"})})},Y=a(73),z=a.n(Y),q=a(74),Q=a.n(q),X={BOOKMARK:"bookmark it!",REMOVE:"remove it!",TAB_BUTTONS:[{label:"finder",icon:z.a},{label:"bookmarks",icon:Q.a}]},Z=Object(O.a)((function(e){return{searchArea:{backgroundColor:e.palette.background.paper,padding:e.spacing(2,0,2)}}})),$=function(){var e=Z(),t=Object(c.b)(),a=Object(n.useState)(""),r=Object(v.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(!1),l=Object(v.a)(s,2),j=l[0],d=l[1],b=Object(n.useState)(!1),u=Object(v.a)(b,2),O=u[0],p=u[1],g=function(){var e=Object(D.a)(M.a.mark((function e(a){var n,r,c,o,i,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==a.length){e.next=3;break}return e.abrupt("return");case 3:return n=Object({NODE_ENV:"production",PUBLIC_URL:"/test-task",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"f6abce8b06ddadd4f16c2d1e12dbdbb3",REACT_APP_API_URL_BASE:"https://www.flickr.com/services/rest/?"}),r=n.REACT_APP_API_KEY,c=n.REACT_APP_API_URL_BASE,d(!0),e.next=7,fetch("".concat(c,"method=flickr.photos.search&api_key=").concat(r,"&tags=").concat(a).concat("&tag_mode=all&extras=url_n&format=json&nojsoncallback=1"));case 7:return o=e.sent,e.next=10,o.json();case 10:i=e.sent,s=i.photos.photo,t(C(s)),d(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),d(!1),p(!0),setTimeout((function(){return p(!1)}),4e3);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:e.searchArea,children:Object(h.jsxs)(S.a,{maxWidth:"sm",children:[Object(h.jsx)(U.a,{label:"Start Typing",style:{margin:8},placeholder:"Name must be at least one character",helperText:"Press Enter to start search",fullWidth:!0,margin:"normal",variant:"outlined",value:o,onChange:function(e){i(e.target.value)},onKeyDown:function(e){if("Enter"===e.key){var t=e.target.value;g(t)}},disabled:j}),O&&Object(h.jsx)(V,{})]})})},ee=a(19),te=a(162),ae=a(158),ne=a(161),re=a(160),ce=a(159),oe=a(157),ie=Object(O.a)((function(){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})),se=function(e){var t=e.buttonName,a=e.paginatedPhotos,n=ie(),r=Object(c.b)(),o=Object(c.c)(I).bookmarks,i=X.BOOKMARK,s=function(e){return o.some((function(a){return a.id===e.id&&t===i}))};return Object(h.jsx)(oe.a,{container:!0,spacing:4,children:a.map((function(e){return Object(h.jsx)(oe.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsxs)(ae.a,{className:n.card,children:[Object(h.jsx)(ce.a,{className:n.cardMedia,image:e.url_n,title:e.title}),Object(h.jsx)(re.a,{className:n.cardContent,children:Object(h.jsx)(u.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title})}),Object(h.jsx)(ne.a,{children:Object(h.jsx)(te.a,{size:"small",color:"primary",disabled:s(e),onClick:function(){return function(e){if(t===i){var a=[].concat(Object(ee.a)(o),[e]);localStorage.setItem("bookmarks",JSON.stringify(a)),r(W(a))}else{var n=o.filter((function(t){return t.id!==e.id}));localStorage.setItem("bookmarks",JSON.stringify(n)),r(W(n))}}(e)},children:t})})]})},e.id)}))})},le=Object(O.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)}}})),je=function(){var e=le(),t=X.BOOKMARK,a=Object(c.c)(I),r=a.page,o=a.rowsPerPage,i=a.photos,s=Object(n.useState)([]),l=Object(v.a)(s,2),j=l[0],d=l[1];return Object(n.useEffect)((function(){var e=function(e,t){return[e*t,e*t+t-1]}(r,o),t=Object(v.a)(e,2),a=t[0],n=t[1],c=i.filter((function(e,t){return t>=a&&t<=n}));d(c)}),[r,i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)($,{}),Object(h.jsx)(G,{}),Object(h.jsx)(S.a,{className:e.cardGrid,maxWidth:"md",children:0!==j.length?Object(h.jsx)(se,{buttonName:t,paginatedPhotos:j}):Object(h.jsx)("div",{children:"No image here"})})]})},de=Object(O.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)}}})),be=function(){var e=de(),t=Object(c.c)(I).bookmarks,a=X.REMOVE;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(S.a,{className:e.cardGrid,maxWidth:"md",children:0!==t.length?Object(h.jsx)(se,{buttonName:a,paginatedPhotos:t}):Object(h.jsx)("div",{children:"No image here"})})})},ue=Object(O.a)((function(e){return{root:{display:"flex",flexGrow:1,backgroundColor:e.palette.background.paper},tabs:{minWidth:"100px"},tab:{minWidth:"calc(100% - 100px)"},main:{minHeight:"calc(88vh - 116px)"}}})),Oe=function(e){var t=e.children,a=e.index,n=e.value,r=ue();return Object(h.jsx)("div",{role:"tabpanel",hidden:n!==a,className:r.tab,children:n===a&&Object(h.jsx)(_.a,{p:3,children:t})})},he=function(){var e=ue(),t=Object(n.useState)(0),a=Object(v.a)(t,2),r=a[0],c=a[1],o=X.TAB_BUTTONS;return Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(k.a,{className:e.tabs,orientation:"vertical",value:r,onChange:function(e,t){c(t)},children:o.map((function(e){return Object(h.jsx)(P.a,{icon:Object(h.jsx)(e.icon,{})},e.label)}))}),Object(h.jsx)(Oe,{value:r,index:0,children:Object(h.jsx)("main",{className:e.main,children:Object(h.jsx)(je,{})})}),Object(h.jsx)(Oe,{value:r,index:1,children:Object(h.jsx)("main",{className:e.main,children:Object(h.jsx)(be,{})})})]})},pe=function(){var e=Object(c.b)();return Object(n.useEffect)((function(){var t=localStorage.getItem("bookmarks");if(t&&0!==t.length){var a=JSON.parse(t);e(W(a))}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{}),Object(h.jsx)(g,{}),Object(h.jsx)(he,{}),Object(h.jsx)(x,{})]})},ge=Object(r.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case A:case N:case w:return Object(T.a)(Object(T.a)({},e),t.payload);default:return e}}}),me=Object(r.c)(ge),fe=Object(h.jsx)(c.a,{store:me,children:Object(h.jsx)(pe,{})});i.a.render(fe,document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.8e2fc696.chunk.js.map